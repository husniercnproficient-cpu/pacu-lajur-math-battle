html, body {
    margin:0;
    padding:0;
    width:100%;
    height:100%;
    overflow:hidden;
    background:#a0e0ff;
    font-family:sans-serif;
    touch-action: manipulation;
}

/* TRACK */
#track {
    position:relative;
    width:100%;
    height:40%;
    background:#4db8ff;
    border-top:3px solid #0077b3;
    border-bottom:3px solid #0077b3;
    margin-top:5%;
    overflow:hidden;
    z-index:10;
}

/* WAVES */
.wave, .wave2 {
    position:absolute;
    top:0; left:0;
    width:200%;
    height:100%;
    background-repeat:repeat-x;
    background-size:400px 60px;
}

.wave {
    background-image:url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='400' height='60'>\
<path d='M0 30 Q50 10 100 30 T400 30' fill='transparent' stroke='white' stroke-width='3'/>\
</svg>");
    animation:waveMove 8s linear infinite;
}

.wave2 {
    background-image:url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='400' height='60'>\
<path d='M0 30 Q50 50 100 30 T400 30' fill='transparent' stroke='rgba(255,255,255,0.5)' stroke-width='2'/>\
</svg>");
    animation:waveMove 12s linear infinite reverse;
}

@keyframes waveMove {
    from {transform:translateX(0);}
    to {transform:translateX(-50%);}
}

/* BOATS */
.car {
    position:absolute;
    width:40%;
    max-width:200px;
    height:80%;
    max-height:150px;
    left:-3%;
    animation:float 2s ease-in-out infinite;
    transition:left .3s ease;
}

#car1 {
    top:0%;
    background:url("../images/perahu_merah_bg.png") no-repeat center/contain;
}

#car2 {
    top:33%;
    background:url("../images/perahu_biru_bg.png") no-repeat center/contain;
}

@keyframes float {
    0%,100% {transform:translateY(0);}
    50% {transform:translateY(-5px);}
}

/* FINISH */
#finishLine {
    position:absolute;
    right:0;
    top:0;
    width:60px;
    height:100%;
    background:black;
    color:white;
    writing-mode:vertical-rl;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:bold;
}

/* UI */
#winnerText {
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    font-size:8vw;
    font-weight:bold;
    color:red;
    display:none;
    z-index:500;
}

#questionCenter {
    position:fixed;
    bottom:0;
    left:50%;
    transform:translateX(-50%);
    background:white;
    padding:.5em 1em;
    font-size:5vw;
    font-weight:bold;
    z-index:500;
}

/* ANSWERS */
.choice-btn {
    width:70px;
    height:70px;
    border-radius:50%;
    border:none;
    font-size:4vw;
    font-weight:bold;
    color:white;
}

.choice-btn.wrong {
    background:#555 !important;
    opacity:.5;
}

#choicesRed, #choicesBlue {
    position:fixed;
    bottom:15%;
    display:flex;
    gap:2vw;
    z-index:20000;
}

#choicesRed { left:5%; }
#choicesBlue { right:5%; }

/* HAMBURGER */
#hamburger {
    position:fixed;
    top:10px;
    right:10px;
    width:40px;
    height:35px;
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    z-index:10000;
}

.bar {
    height:5px;
    background:white;
    border-radius:3px;
}

/* MENU FIX */
#menuItems {
    position:fixed;
    top:60px;
    right:10px;
    background:rgba(0,0,0,.75);
    display:none;
    flex-direction:column;
    border-radius:8px;
    z-index:9999;
    pointer-events:none;
}

#menuItems.show {
    display:flex;
    pointer-events:auto;
}

#menuItems button {
    background:none;
    border:none;
    color:white;
    padding:12px 20px;
    font-size:18px;
}

/* FIREWORKS */
#fireworksCanvas {
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    pointer-events:none;
    z-index:1;
}


/* ===== WIN OVERLAY ===== */
#winOverlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.75);
    display: none;
    z-index: 300;
}

/* ===== WIN TEXT (MODERN GAME STYLE) ===== */
#winnerText {
    position: fixed;
    top: 45%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 9vw;
    font-weight: 900;
    letter-spacing: .15em;
    text-transform: uppercase;
    display: none;
    z-index: 500;
    text-shadow: 0 0 25px currentColor;
}

/* Glow background */
#winnerText::after {
    content: "";
    position: absolute;
    inset: -25%;
    background: radial-gradient(circle, currentColor 0%, transparent 70%);
    opacity: .3;
    z-index: -1;
}

/* Pop animation */
@keyframes winPop {
    0% {
        transform: translate(-50%, -50%) scale(0.3);
        opacity: 0;
    }
    70% {
        transform: translate(-50%, -50%) scale(1.1);
    }
    100% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
    }
}

#winnerText.show {
    animation: winPop .6s ease-out forwards;
}

#winOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  z-index: 999999;
  display: none;
}

#fireworksCanvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

/* FIREWORK CANVAS */
#fireworksCanvas {
  position: fixed !important;
  inset: 0 !important;
  width: 100% !important;
  height: 100% !important;
  pointer-events: none;       /* biar klik game tetap jalan */
  z-index: 100001;            /* üîù di atas semua elemen */
}

/* WIN OVERLAY */
#winOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.88);
  z-index: 100000;           /* di bawah canvas, tapi di atas game */
  display: none;
  pointer-events: auto;
}

/* WINNER TEXT */
#winnerText {
  position: fixed;
  top: 45%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 9vw;
  font-weight: 900;
  text-transform: uppercase;
  color: red;
  text-shadow: 0 0 25px currentColor;
  display: none;
  z-index: 100002;           /* di atas canvas */
}


/* AKTIF SAAT MENANG */
#winnerText.show {
  animation: winPop 0.9s ease-out forwards,
             glow 1.6s ease-in-out infinite alternate;
}

/* POP */
@keyframes winPop {
  0%   { opacity: 0; transform: translate(-50%, -50%) scale(0.6); }
  60%  { opacity: 1; transform: translate(-50%, -50%) scale(1.15); }
  100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}

/* GLOW */
@keyframes glow {
  from { text-shadow: 0 0 10px currentColor; }
  to   { text-shadow: 0 0 30px currentColor; }
}


/* ================= BUTTON ================= */
#btnRestart {
  position: absolute !important;
  bottom: 18% !important;
  left: 50% !important;
  transform: translateX(-50%) !important;

  padding: 14px 36px;
  font-size: 20px;
  font-weight: bold;

  border: none;
  border-radius: 40px;
  background: linear-gradient(45deg, #ff9800, #ff5722);
  color: #fff;
  cursor: pointer;

  opacity: 0;

  z-index: 100001; /* üî• INI YANG HILANG */

  animation: fadeUp 1s ease forwards;
  animation-delay: 1s;
}


@keyframes fadeUp {
  from { opacity: 0; transform: translate(-50%, 20px); }
  to   { opacity: 1; transform: translate(-50%, 0); }
}
